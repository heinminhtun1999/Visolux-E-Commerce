# Server
NODE_ENV=development
PORT=3000
APP_BASE_URL=http://localhost:3000

# Reverse proxy (set TRUST_PROXY=1 in production behind Nginx)
TRUST_PROXY=0

# Rate limiting (defaults: enabled in production, disabled in development)
RATE_LIMIT_ENABLED=
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=1200

# Logging
# Default behavior: logs go to stdout (PM2 captures to files); LOG_TO_FILE enables extra app-managed log files.
LOG_LEVEL=
LOG_DIR=storage/logs
LOG_TO_FILE=false

# Display formatting (timestamps are stored as UTC in SQLite)
APP_TIME_ZONE=Asia/Kuala_Lumpur
APP_LOCALE=en-MY

# Email notifications (SMTP)
# Set these to enable sending an email on every new order.
# Example for common providers: port 587 (STARTTLS) secure=false, or port 465 secure=true.
EMAIL_ENABLED=true
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# Where staff new-order notifications should go
ORDER_NOTIFY_TO=customerservice@arvending.com.my

# Customer receipt emails are sent to the order's bill_email automatically when SMTP is configured.
SESSION_SECRET=replace_me_with_long_random

# Allow embedding in iframes by these parent origins (space-separated)
# Example: IFRAME_ANCESTORS="'self' https://partner.example.com"
IFRAME_ANCESTORS="'self'"

# Cookies (set SECURE_COOKIES=true in production behind HTTPS)
SECURE_COOKIES=false

# Admin allowlist (comma-separated)
ADMIN_USERNAMES=admin
ADMIN_EMAILS=admin@example.com

# SQLite
SQLITE_PATH=storage/data/app.db

# Uploads
PRODUCT_IMAGE_MAX_WIDTH=1200
SLIP_IMAGE_MAX_WIDTH=1600
UPLOAD_MAX_MB=8

# Fiuu Payment Gateway (fill from spec/account)
FIUU_MERCHANT_ID=
FIUU_VERIFY_KEY=
FIUU_SECRET_KEY=
FIUU_GATEWAY_URL=
FIUU_REQUEST_METHOD=GET
# Optional: base URL for non-payment APIs like refundAPI.
# - Production default is https://api.fiuu.com
# - Sandbox commonly uses https://sandbox-payment.fiuu.com
FIUU_API_BASE=
# You can omit FIUU_PAYMENT_METHOD to allow Fiuu to show all available payment channels.
#
# Either set a full hosted payment URL template OR set a base domain + optional FIUU_PAYMENT_METHOD.
# Examples:
#   FIUU_GATEWAY_URL=https://sandbox-payment.fiuu.com
#   # FIUU_PAYMENT_METHOD=fpx
# Or:
#   FIUU_GATEWAY_URL=https://sandbox-payment.fiuu.com/RMS/pay/{MerchantID}/{Payment_Method}
# Optional. If set, it can restrict the payment entry to a specific method.
FIUU_PAYMENT_METHOD=
FIUU_CURRENCY=MYR
# If you enabled "Use extended format for Verify Payment" in Fiuu portal,
# set this to `extended` so vcode includes currency.
# Values: legacy | extended
FIUU_VCODE_MODE=legacy
# Enable extra logs for payment request and signature verification.
FIUU_LOG_REQUESTS=true
FIUU_RETURN_URL=/payment/return
FIUU_CALLBACK_URL=/payment/callback
FIUU_CANCEL_URL=/payment/cancel

# Promo
PROMO_DEFAULT_PERCENT=10
